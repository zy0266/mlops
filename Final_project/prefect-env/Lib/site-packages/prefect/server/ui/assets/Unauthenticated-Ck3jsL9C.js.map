{"version":3,"file":"Unauthenticated-Ck3jsL9C.js","sources":["../../src/pages/Unauthenticated.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center justify-center min-h-screen\">\n    <div class=\"w-full max-w-[400px] p-8 m-4 bg-surface-raised rounded-lg shadow-lg\">\n      <p-heading tag=\"h1\" size=\"lg\" class=\"mb-6 text-center text-default\">\n        Login\n      </p-heading>\n      <form @submit.prevent=\"handleSubmit\" class=\"flex flex-col gap-4\">\n        <p-text-input\n          v-model=\"password\"\n          type=\"password\"\n          placeholder=\"Enter password\"\n          :error=\"error\"\n          autofocus\n          class=\"w-full\"\n        />\n        <p-button\n          type=\"submit\"\n          :loading=\"loading\"\n          class=\"w-full\"\n        >\n          Login\n        </p-button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { usePrefectApi } from '@/compositions/usePrefectApi'\n\nconst props = defineProps<{\n  redirect?: string\n}>()\n\nconst password = ref('')\nconst loading = ref(false)\nconst error = ref('')\nconst router = useRouter()\nconst api = usePrefectApi()\n\nconst handleSubmit = async (): Promise<void> => {\n  if (loading.value) return\n\n  loading.value = true\n  error.value = ''\n\n  try {\n    localStorage.setItem('prefect-password', btoa(password.value))\n    router.push(props.redirect || '/')\n  } catch (e) {\n    localStorage.removeItem('prefect-password')\n    error.value = 'Invalid password'\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style>\n</style>"],"names":["props","__props","password","ref","loading","error","router","useRouter","usePrefectApi","handleSubmit"],"mappings":"kaAgCA,MAAMA,EAAQC,EAIRC,EAAWC,EAAI,EAAE,EACjBC,EAAUD,EAAI,EAAK,EACnBE,EAAQF,EAAI,EAAE,EACdG,EAASC,EAAU,EACbC,EAAc,EAE1B,MAAMC,EAAe,SAA2B,CAC9C,GAAI,CAAAL,EAAQ,MAEZ,CAAAA,EAAQ,MAAQ,GAChBC,EAAM,MAAQ,GAEV,GAAA,CACF,aAAa,QAAQ,mBAAoB,KAAKH,EAAS,KAAK,CAAC,EACtDI,EAAA,KAAKN,EAAM,UAAY,GAAG,OACvB,CACV,aAAa,WAAW,kBAAkB,EAC1CK,EAAM,MAAQ,kBAAA,QACd,CACAD,EAAQ,MAAQ,EAAA,EAEpB"}